% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/contract.R
\name{vrc_index}
\alias{vrc_index}
\title{Index a VR long-format dataset}
\usage{
vrc_index(
  data,
  t0 = NULL,
  id_cols = c("region", "time", "age", "sex", "cause"),
  y_col = "y",
  exposure_col = NULL,
  conflict_col = "conflict",
  duplicates = c("error", "sum"),
  sort_time = TRUE
)
}
\arguments{
\item{data}{A data.frame.}

\item{t0}{Conflict start time. May be an integer index in 1..T or a value
present in \code{data$time}.}

\item{id_cols}{Identifier columns. See \code{\link[=vrc_validate_data]{vrc_validate_data()}}.}

\item{y_col}{Outcome column name.}

\item{exposure_col}{Exposure column name. If \code{NULL}, uses \code{exposure} if
present; otherwise uses \code{pop}.}

\item{conflict_col}{Conflict column name.}

\item{duplicates}{How to handle duplicates. One of \code{"error"} (default) or
\code{"sum"}.}

\item{sort_time}{Logical. If TRUE (default), time values are sorted.}
}
\value{
A list with components:
\itemize{
\item \code{data}: the processed data.frame (including \verb{*_id} integer columns and an
\code{exposure} column)
\item \code{meta}: a list with levels and dimension sizes
}
}
\description{
Convert identifier columns to integer indices (1..R, 1..T, ...) used by Stan.
This also creates a stable ordering of time values and optionally aggregates
duplicate identifier rows.
}
